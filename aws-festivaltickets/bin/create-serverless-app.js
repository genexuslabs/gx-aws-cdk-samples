#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = require("aws-cdk-lib");
const gx_angular_app_1 = require("../lib/gx-angular-app");
const profileAccountId = process.env.CDK_DEFAULT_ACCOUNT;
const profileRegion = process.env.CDK_DEFAULT_REGION;
const env = {
    account: profileAccountId,
    region: profileRegion,
};
const app = new cdk.App();
const apiName = app.node.tryGetContext('appname');
const stageName = app.node.tryGetContext('stage');
const domainName = app.node.tryGetContext('domain');
const certificateARN = app.node.tryGetContext('certificateARN');
const memorySize = app.node.tryGetContext('memory');
if (!apiName) {
    throw new Error('"name" parameter must be specified for API Name');
}
if (!stageName) {
    throw new Error('"stageName" parameter must be specified for Stage Name');
}
new gx_angular_app_1.GXServerlessStack(app, `${apiName}-${stageName}-Stack`, {
    env: env,
    apiName: apiName,
    webDomainName: domainName,
    certificateARN: certificateARN,
    stageName: stageName,
    memorySize: memorySize
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLXNlcnZlcmxlc3MtYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY3JlYXRlLXNlcnZlcmxlc3MtYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG1DQUFtQztBQUNuQywwREFBMEQ7QUFFMUQsTUFBTSxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDO0FBQ3pELE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUM7QUFFckQsTUFBTSxHQUFHLEdBQUc7SUFDVixPQUFPLEVBQUUsZ0JBQWdCO0lBQ3pCLE1BQU0sRUFBRSxhQUFhO0NBQ3RCLENBQUM7QUFFRixNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQixNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNsRCxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNsRCxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNwRCxNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ2hFLE1BQU0sVUFBVSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRXBELElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDWixNQUFNLElBQUksS0FBSyxDQUFDLGlEQUFpRCxDQUFDLENBQUM7Q0FDcEU7QUFDRCxJQUFJLENBQUMsU0FBUyxFQUFFO0lBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyx3REFBd0QsQ0FBQyxDQUFDO0NBQzNFO0FBRUQsSUFBSSxrQ0FBaUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLElBQUksU0FBUyxRQUFRLEVBQUU7SUFDMUQsR0FBRyxFQUFFLEdBQUc7SUFDUixPQUFPLEVBQUUsT0FBTztJQUNoQixhQUFhLEVBQUUsVUFBVTtJQUN6QixjQUFjLEVBQUUsY0FBYztJQUM5QixTQUFTLEVBQUUsU0FBUztJQUNwQixVQUFVLEVBQUUsVUFBVTtDQUN2QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXHJcbmltcG9ydCAqIGFzIGNkayBmcm9tIFwiYXdzLWNkay1saWJcIjtcclxuaW1wb3J0IHsgR1hTZXJ2ZXJsZXNzU3RhY2sgfSBmcm9tIFwiLi4vbGliL2d4LWFuZ3VsYXItYXBwXCI7XHJcblxyXG5jb25zdCBwcm9maWxlQWNjb3VudElkID0gcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVDtcclxuY29uc3QgcHJvZmlsZVJlZ2lvbiA9IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTjtcclxuXHJcbmNvbnN0IGVudiA9IHtcclxuICBhY2NvdW50OiBwcm9maWxlQWNjb3VudElkLFxyXG4gIHJlZ2lvbjogcHJvZmlsZVJlZ2lvbixcclxufTtcclxuXHJcbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XHJcblxyXG5jb25zdCBhcGlOYW1lID0gYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnYXBwbmFtZScpO1xyXG5jb25zdCBzdGFnZU5hbWUgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdzdGFnZScpO1xyXG5jb25zdCBkb21haW5OYW1lID0gYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnZG9tYWluJyk7XHJcbmNvbnN0IGNlcnRpZmljYXRlQVJOID0gYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnY2VydGlmaWNhdGVBUk4nKTtcclxuY29uc3QgbWVtb3J5U2l6ZSA9IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ21lbW9yeScpO1xyXG5cclxuaWYgKCFhcGlOYW1lKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdcIm5hbWVcIiBwYXJhbWV0ZXIgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIEFQSSBOYW1lJyk7XHJcbn1cclxuaWYgKCFzdGFnZU5hbWUpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ1wic3RhZ2VOYW1lXCIgcGFyYW1ldGVyIG11c3QgYmUgc3BlY2lmaWVkIGZvciBTdGFnZSBOYW1lJyk7XHJcbn1cclxuXHJcbm5ldyBHWFNlcnZlcmxlc3NTdGFjayhhcHAsIGAke2FwaU5hbWV9LSR7c3RhZ2VOYW1lfS1TdGFja2AsIHtcclxuICBlbnY6IGVudixcclxuICBhcGlOYW1lOiBhcGlOYW1lLFxyXG4gIHdlYkRvbWFpbk5hbWU6IGRvbWFpbk5hbWUsXHJcbiAgY2VydGlmaWNhdGVBUk46IGNlcnRpZmljYXRlQVJOLFxyXG4gIHN0YWdlTmFtZTogc3RhZ2VOYW1lLFxyXG4gIG1lbW9yeVNpemU6IG1lbW9yeVNpemVcclxufSk7XHJcbiJdfQ==